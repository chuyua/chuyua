<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>åˆ©ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ– | Lioil&#39;s Blog</title><meta name="keywords" content="æ•™ç¨‹, GitHub Action, è‡ªåŠ¨åŒ–"><meta name="description" content="åšå®¢éƒ¨ç½²ï¼Ÿæˆ‘ç”¨ GitHub Action è‡ªåŠ¨éƒ¨ç½²ç™¾åº¦æ”¶å½•æ¨é€ï¼Ÿæˆ‘ä¹Ÿç”¨ GitHub Action è‡ªåŠ¨æ¨é€"><meta property="og:type" content="article"><meta property="og:title" content="åˆ©ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–"><meta property="og:url" content="https://www.linil.ml/posts/use-github-action.html"><meta property="og:site_name" content="Lioil&#39;s Blog"><meta property="og:description" content="åšå®¢éƒ¨ç½²ï¼Ÿæˆ‘ç”¨ GitHub Action è‡ªåŠ¨éƒ¨ç½²ç™¾åº¦æ”¶å½•æ¨é€ï¼Ÿæˆ‘ä¹Ÿç”¨ GitHub Action è‡ªåŠ¨æ¨é€"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://rmt.dogedoge.com/fetch/royce/storage/use-github-action/cover.png?fmt=webp"><meta property="article:published_time" content="2020-07-05T02:22:30.000Z"><meta property="article:modified_time" content="2020-08-07T03:26:28.486Z"><meta property="article:author" content="Lioil"><meta property="article:tag" content="æ•™ç¨‹"><meta property="article:tag" content="GitHub Action"><meta property="article:tag" content="è‡ªåŠ¨åŒ–"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://rmt.dogedoge.com/fetch/royce/storage/use-github-action/cover.png?fmt=webp"><link rel="alternate" href="/atom.xml" title="Lioil's Blog"><link rel="stylesheet" href="/css/style/main.css"><link rel="stylesheet" href="/css/style/dark.css"><script src="/js/darkmode.js"></script><link rel="stylesheet" id="hljs-default-theme" href="/css/highlight/default.css" media="none" onload='-1===getComputedStyle(document.documentElement).getPropertyValue("--color-mode").indexOf("dark")&&(this.media="all")'><link rel="stylesheet" id="hljs-dark-theme" href="/css/highlight/dark.css" media="none" onload='-1!==getComputedStyle(document.documentElement).getPropertyValue("--color-mode").indexOf("dark")&&(this.media="all")'><link rel="stylesheet" href="/css/style/note.css" media="none" onload='this.media="all"'><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Lioil's Blog" type="application/atom+xml"></head><body><div id="app"><header class="header"><div class="header__left"><a href="/" class="button"><span class="logo__text">Lioil's Blog</span></a></div><div class="header__right"><div class="cover__menus"><a href="https://travellings.now.sh/" target="_blank" rel="noopener external nofollow noreferrer" class="cover-menu button">å¼€å¾€ </a><a href="/friends/" class="cover-menu button">å‹é“¾ </a><a href="/about/" class="cover-menu button">å…³äº </a><a href="/atom.xml" class="cover-menu button">è®¢é˜…</a></div><a href="javaScript:void(0);" rel="external nofollow noreferrer" id="btn-toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg> </a><a href="#" id="b2t" style="display:block" aria-label="Back to Top" title="Back to Top"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="32" height="32" fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path d="M13.889,11.611c-0.17,0.17-0.443,0.17-0.612,0l-3.189-3.187l-3.363,3.36c-0.171,0.171-0.441,0.171-0.612,0c-0.172-0.169-0.172-0.443,0-0.611l3.667-3.669c0.17-0.17,0.445-0.172,0.614,0l3.496,3.493C14.058,11.167,14.061,11.443,13.889,11.611 M18.25,10c0,4.558-3.693,8.25-8.25,8.25c-4.557,0-8.25-3.692-8.25-8.25c0-4.557,3.693-8.25,8.25-8.25C14.557,1.75,18.25,5.443,18.25,10 M17.383,10c0-4.07-3.312-7.382-7.383-7.382S2.618,5.93,2.618,10S5.93,17.381,10,17.381S17.383,14.07,17.383,10"></path></svg> </a><a class="dropdown-icon button" id="btn-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="24" height="24" fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path></svg></a><div class="dropdown-menus" id="dropdown-menus"><a class="dropback-icon button" id="btn-dropback"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="24" height="24" fill="none" stroke="currentColor" stroke-width="0.7" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M11.469,10l7.08-7.08c0.406-0.406,0.406-1.064,0-1.469c-0.406-0.406-1.063-0.406-1.469,0L10,8.53l-7.081-7.08c-0.406-0.406-1.064-0.406-1.469,0c-0.406,0.406-0.406,1.063,0,1.469L8.531,10L1.45,17.081c-0.406,0.406-0.406,1.064,0,1.469c0.203,0.203,0.469,0.304,0.735,0.304c0.266,0,0.531-0.101,0.735-0.304L10,11.469l7.08,7.081c0.203,0.203,0.469,0.304,0.735,0.304c0.267,0,0.532-0.101,0.735-0.304c0.406-0.406,0.406-1.064,0-1.469L11.469,10z"></path></svg> </a><a href="https://travellings.now.sh/" target="_blank" rel="noopener external nofollow noreferrer" class="dropdown-menu button">å¼€å¾€ </a><a href="/friends/" class="dropdown-menu button">å‹é“¾ </a><a href="/about/" class="dropdown-menu button">å…³äº </a><a href="/atom.xml" class="dropdown-menu button">è®¢é˜…</a></div><script>document.getElementById('btn-dropdown').addEventListener('click', () => {
                    const dd = document.getElementById('dropdown-menus');
                    requestAnimationFrame(() => {
                        dd.style.display = 'flex';
                        requestAnimationFrame(() => {
                            dd.style.transform = 'translateY(0)';
                            dd.style.opacity = '1';
                        });
                    });
                });
                document.getElementById('btn-dropback').addEventListener('click', () => {
                    const dd = document.getElementById('dropdown-menus');
                    dd.style.transform = 'translateY(2.25rem)';                    
                    dd.style.opacity = '0';
                    setTimeout(() => {dd.style.display = 'none';}, 350);
                });</script></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">åˆ©ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–</h1><div class="post-title__meta"><a href="/archives/2020/07/" class="button" style="color:grey">Posted Jul 05 2020</a></div></div><div class="post__with-side"><aside class="post-side"><div class="post-side__toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#å‰è¨€"><span class="toc-text">å‰è¨€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#github-page"><span class="toc-text">GitHub Page</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#coding-page"><span class="toc-text">Coding Page</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gitee-page"><span class="toc-text">Gitee Page</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vercel"><span class="toc-text">Vercel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ€»ç»“"><span class="toc-text">æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è‡ªåŠ¨éƒ¨ç½²"><span class="toc-text">è‡ªåŠ¨éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è¿æ¥-github"><span class="toc-text">è¿æ¥ GitHub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç¼–å†™-github-action"><span class="toc-text">ç¼–å†™ GitHub Action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#éƒ¨ç½²åˆ°-github-page"><span class="toc-text">éƒ¨ç½²åˆ° GitHub Page</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#éƒ¨ç½²åˆ°è…¾è®¯é™æ€æ‰˜ç®¡"><span class="toc-text">éƒ¨ç½²åˆ°è…¾è®¯é™æ€æ‰˜ç®¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#éƒ¨ç½²åˆ°-è…¾è®¯cos"><span class="toc-text">éƒ¨ç½²åˆ° è…¾è®¯COS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å…¶ä»–"><span class="toc-text">å…¶ä»–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#éšç§é—®é¢˜"><span class="toc-text">éšç§é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è‡ªåŠ¨æäº¤ç™¾åº¦æ”¶å½•"><span class="toc-text">è‡ªåŠ¨æäº¤ç™¾åº¦æ”¶å½•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æœ€å"><span class="toc-text">æœ€å</span></a></li></ol></div></aside><article class="post content-card"><div class="post__header"><img alt="Cover Image" src="https://rmt.dogedoge.com/fetch/royce/storage/use-github-action/cover.png?fmt=webp" class="lazyload" data-srcset="https://rmt.dogedoge.com/fetch/royce/storage/use-github-action/cover.png?fmt=webp" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg=="><div class="post__expire" id="post-expired-notify"><p>This article was last updated on <span id="expire-date"></span> days ago, the information described in the article may be outdated.</p></div><script>(() => {
            var update = Date.parse("2020-08-07"),
                date = new Date(),
                now = date.getTime(),
                expire = now - update,
                expire_days = Math.floor(expire/(24*3600*1000));
            if (expire_days >= 120) {
                document.querySelectorAll('#expire-date')[0].innerHTML = expire_days;
                document.querySelectorAll('#post-expired-notify')[0].style.display = 'block';
            }
        })();</script></div><div class="post__content"><div class="md-content"><h2 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h2><p>é¦–å…ˆï¼Œä¸ºä»€ä¹ˆé€‰æ‹©é™æ€ç½‘ç«™ï¼Ÿæ²¡åå°ï¼Œæ²¡æ•°æ®åº“ï¼Œä½†æ˜¯æ–¹ä¾¿æŠ˜è…¾ï¼Œå¯ä»¥å®Œå…¨è‡ªå®šä¹‰ï¼Œè¿™æ˜¯æˆ‘é€‰æ‹©é™æ€åšå®¢æœ€å¤§çš„åŸå› ä¹‹ä¸€ã€‚ <s>ï¼ˆå…¶å®æ²¡é’±ä¹°æœåŠ¡å™¨æ‰æ˜¯æœ€å¤§åŸå› ï¼‰</s></p><p>éƒ¨ç½²é™æ€ç½‘ç«™çš„æ–¹æ³•å¾ˆå¤šï¼ŒGitHub Page, Coding Page, Gitee Page, Vercel éƒ½æ˜¯å…è´¹çš„ï¼Œå„æœ‰å„çš„ä¼˜åŠ¿ï¼Œå…ˆè¯´è¯´è¿™å‡ ä¸ªå…è´¹çš„ã€‚</p><h3 id="github-page"><a class="markdownIt-Anchor" href="#github-page"></a> GitHub Page</h3><p>Github Page å·¨ç¡¬å®¶çš„ä¸œè¥¿ï¼Œé™¤éä¸å¯æŠ—åŠ›ï¼Œè¦ä¸ç„¶å‡ºé—®é¢˜çš„æ¦‚ç‡å¾ˆå°ã€‚ä½†å›½å†…éƒ¨åˆ†åœ°åŒºæ— æ³•è®¿é—®ï¼Œéƒ¨åˆ†åœ°åŒºè®¿é—®é€Ÿåº¦æ…¢ã€‚èƒ½åˆ©ç”¨ Github Action å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚é€Ÿåº¦é—®é¢˜æˆ–è®¸å¯ä»¥é€šè¿‡ CloudFlare çš„ CDN æ¥è§£å†³ï¼Œä½†é€Ÿåº¦è¿˜æ˜¯ä¸æ€ä¹ˆæ ·ã€‚å½“ç„¶ï¼Œå¦‚æœä½ åŸŸåå¤‡æ¡ˆäº†ï¼Œç”¨å›½å†…çš„ CDN ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚</p><h3 id="coding-page"><a class="markdownIt-Anchor" href="#coding-page"></a> Coding Page</h3><p>Coding Page è¡¨æ˜æ˜¯ Coding çš„ï¼Œä½† Coding ç°åœ¨ç®—æ˜¯è…¾è®¯çš„äº†ï¼Œå‡ºé—®é¢˜çš„æ¦‚ç‡ä¹Ÿå¾ˆå°ã€‚ä½†ç”¨çš„èŠ‚ç‚¹å…¨æ˜¯å¢ƒå¤–çš„ï¼Œä¸€èˆ¬æ˜¯é¦™æ¸¯å’Œæ–°åŠ å¡â€¦ï¼Œè€Œä¸”æ—¥å¸¸å®•æœºï¼ŒåŠ¨ä¸åŠ¨å°±å´©äº†ã€‚åŒæ ·èƒ½åˆ©ç”¨ é›†æˆCI è¿›è¡Œè‡ªåŠ¨éƒ¨ç½²ã€‚</p><h3 id="gitee-page"><a class="markdownIt-Anchor" href="#gitee-page"></a> Gitee Page</h3><p>Gitee Page ç äº‘å®¶çš„ï¼Œå›½å†…èŠ‚ç‚¹ï¼Œé€Ÿåº¦æ²¡å¾—è¯´ï¼Œå¿«å°±å®Œäº‹äº†ã€‚è‡ªå®šä¹‰åŸŸåå’Œè‡ªåŠ¨æ›´æ–°ï¼ˆä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡æ›´æ–°åšå®¢ï¼Œæ¨é€åˆ°ç äº‘ä¹‹åè¿˜è¦æ‰‹åŠ¨ç‚¹å‡»éƒ¨ç½²ï¼‰éœ€è¦è´­ä¹° Pro ç‰ˆï¼Œ99 å…ƒ/å¹´ã€‚ä½†å› ä¸ºæ˜¯å›½å†…èŠ‚ç‚¹çš„åŸå› ï¼Œç»‘å®šçš„åŸŸåéœ€è¦å¤‡æ¡ˆã€‚ç äº‘è¿˜æœ‰ä¸ªæ¯”è¾ƒå¥½çš„åŠŸèƒ½ï¼Œèƒ½è‡ªåŠ¨åˆ¤æ–­åšå®¢ç±»å‹ï¼Œæ”¯æŒ Jekyllã€Hugoã€Hexoï¼Œèƒ½è‡ªåŠ¨è¿›è¡Œç¼–è¯‘ï¼Œå¹¶éƒ¨ç½²ç”Ÿæˆçš„æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥ç›´æ¥å°†æ•´ä¸ªåšå®¢æ–‡ä»¶å¤¹æ¨ä¸Šå»ï¼Œæ¯æ¬¡æ›´æ–°åªéœ€è¦ä½¿ç”¨ git æ¨é€ä¸‹å°±è¡Œäº†ï¼Œå®ƒä¼šå¸®ä½ ç”Ÿæˆã€‚</p><h3 id="vercel"><a class="markdownIt-Anchor" href="#vercel"></a> Vercel</h3><p>Vercel å¯ä»¥ç›´æ¥ä» GitHub å¯¼å…¥åšå®¢ä»“åº“ï¼Œä¸”èƒ½è¯†åˆ«é™æ€åšå®¢ç±»å‹ï¼Œå’Œç äº‘ä¸€æ ·è‡ªåŠ¨ç”Ÿæˆã€‚é¡ºä¾¿çœ‹äº†ä¸‹ Vercel åˆ†é…çš„èŠ‚ç‚¹ï¼Œç¾å›½çš„ï¼Œä½†æ˜¯å›½å†…è®¿é—®é€Ÿåº¦è¿˜æ˜¯ä¸é”™çš„ï¼ŒPing äº†ä¸€ä¸‹ï¼Œå¹³å‡ 62.0msï¼Œé€Ÿåº¦ä¹Ÿè¿˜ä¸é”™ï¼ˆè‡³å°‘æˆ‘è¿™æ˜¯è¿™æ ·ï¼‰ã€‚</p><h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3><ul><li><p>ä¸è¦æ±‚è‡ªå®šä¹‰åŸŸåï¼Œæ— è„‘ä¸Šç äº‘</p></li><li><p>è¦è‡ªå®šä¹‰åŸŸåä¸Š GitHub Page or Vercel</p></li><li><p>Coding ä¸æ¨è</p></li></ul><p>é‚£ä¹ˆæœ¬åšå®¢ç›®å‰å¹¶æ²¡æœ‰é‡‡ç”¨ä¸Šè¿°æ–¹å¼è¿›è¡Œéƒ¨ç½²ï¼Œä½†å…¨éƒ¨ä½“éªŒè¿‡ã€‚å› ä¸ºåŸŸåè¿›è¡Œäº†å¤‡æ¡ˆï¼Œå°±ç›´æ¥é‡‡ç”¨äº†è…¾è®¯çš„<strong>é™æ€ç½‘ç«™æ‰˜ç®¡</strong>ã€‚</p><p>æœ‰ä¸€è¯´ä¸€ï¼Œå›½å†…å„å®¶çš„ CDN è®¡è´¹è§„åˆ™æ˜¯çœŸçš„å¤æ‚ï¼Œç¬¬ä¸€æ¬¡çœ‹å®ŒåŸºæœ¬éƒ½ä¸€å¤´é›¾æ°´ï¼Œè¿™æ—¶å€™è…¾è®¯çš„äº‘å¼€å‘å‡ºç°äº†ã€‚äº‘å¼€å‘ä¸­åŒ…å«äº†é™æ€ç½‘ç«™æ‰˜ç®¡ï¼Œä¸“ä¸ºé™æ€ç½‘ç«™è€Œç”Ÿã€‚è®¡è´¹è§„åˆ™å¾ˆç®€å•ï¼Œ<code>æµé‡è´¹ç”¨</code> + <code>ç©ºé—´è´¹ç”¨</code>ï¼Œè€Œä¸”è‡ªåŠ¨éƒ¨ç½²åˆ° CDN ä¸Šï¼Œé€Ÿåº¦è¶…å¿«ã€‚</p><p>è‡³äºæ€ä¹ˆä½¿ç”¨äº‘å¼€å‘éƒ¨ç½²é™æ€åšå®¢ï¼Œå®˜æ–¹å·²ç»ç»™å‡ºäº†è¯¦ç»†æ•™ç¨‹ <a href="https://cloud.tencent.com/document/product/1210/43365" target="_blank" rel="noopener external nofollow noreferrer">é™æ€ç½‘ç«™æ‰˜ç®¡ æ­å»º Hexo - æœ€ä½³å®è·µ - æ–‡æ¡£ä¸­å¿ƒ - è…¾è®¯äº‘</a>ã€‚</p><p>å½“ç„¶ï¼Œè¿™æ˜¯æ”¶è´¹çš„ï¼Œä¸è¿‡æŒºä¾¿å®œçš„ï¼Œæ­£å¸¸å°ç«™ä¸€ä¸ªæœˆä¸è¶…è¿‡ä¸€å…ƒï¼Œè€Œä¸”è¿˜å¯ä»¥ç”³è¯·è…¾è®¯çš„ <a href="https://cloud.tencent.com/act/pro/wh99" target="_blank" rel="noopener external nofollow noreferrer">äº‘å¼€å‘ç½‘ç«™æ‰˜ç®¡ã€Œ9.9åŒ…å¹´ã€èµåŠ©è®¡åˆ’</a>ã€‚</p><h2 id="è‡ªåŠ¨éƒ¨ç½²"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨éƒ¨ç½²"></a> è‡ªåŠ¨éƒ¨ç½²</h2><p>æ¥ä¸‹æ¥è¿›å…¥é‡ç‚¹ï¼Œåˆ©ç”¨ GitHub Action å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¦‚æœä½ è¿˜ä¸çŸ¥é“ GitHub Action æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥çœ‹çœ‹ <a href="https://github.com/features/actions" target="_blank" rel="noopener external nofollow noreferrer">å®˜æ–¹ä»‹ç»</a>ï¼Œç®€å•æ¥è¯´ï¼Œä»¥ä½ çš„ä»“åº“ä¸ºæ ¹ç›®å½•ï¼Œç»™ä½ ä¸€å°ç”µè„‘ï¼Œå¸®ä½ å®Œæˆä¸€äº›äº‹æƒ…ã€‚å¦‚æœæƒ³è¿›ä¸€æ­¥äº†è§£ï¼Œå¯ä»¥çœ‹çœ‹ <a href="https://zkqiang.cn/posts/e8ed6836/" target="_blank" rel="noopener external nofollow noreferrer">ç¼–å†™è‡ªå·±çš„ GitHub Actionï¼Œä½“éªŒè‡ªåŠ¨åŒ–éƒ¨ç½²</a></p><h3 id="è¿æ¥-github"><a class="markdownIt-Anchor" href="#è¿æ¥-github"></a> è¿æ¥ GitHub</h3><p>ä¿è¯ä½ çš„æ•´ä¸ªåšå®¢æ–‡ä»¶å¤¹å·² <code>push</code> åˆ°äº†GitHub ä¸Šã€‚å¦‚æœæ²¡æœ‰ï¼Œæ–°å»ºä¸€ä¸ªä»“åº“ <code>Public</code> or <code>Private</code> å‡å¯ï¼Œç„¶åå°†æœ¬åœ°æœ¬åœ°ä¸ä»“åº“è¿æ¥ã€‚</p><p><code>username</code> æ›¿æ¢æˆç”¨æˆ·åï¼Œ<code>repo</code> æ›¿æ¢æˆä»“åº“å</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"first commit"</span></span><br><span class="line">git remote add origin https://github.com/username/repo.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><blockquote class="blockquote-note blockquote-note__warning"><div class="blockquote-note__header"><div class="blockquote-note__icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></div>ğŸš¨ æ³¨æ„</div><div class="blockquote-note__content"><p>å¦‚æœä»“åº“ä¸º <code>Public</code> è¯·ä¸è¦å°†éšç§å†…å®¹ç›´æ¥å†™åœ¨æ–‡ä»¶ä¸­ï¼Œæš‚æ—¶ç”¨ä¸€äº›å•è¯æ›¿æ¢ï¼Œåç»­ç¼–å†™è‡ªåŠ¨éƒ¨ç½²æ–‡ä»¶æ—¶æœ‰æ–¹æ³•è§£å†³</p></div></blockquote><h3 id="ç¼–å†™-github-action"><a class="markdownIt-Anchor" href="#ç¼–å†™-github-action"></a> ç¼–å†™ GitHub Action</h3><p>ä»è¿™é‡Œå¼€å§‹ï¼Œé»˜è®¤ä½ å·²ç»çœ‹å®Œä¹‹å‰æåˆ°çš„ã€ç¼–å†™è‡ªå·±çš„ GitHub Actionï¼Œä½“éªŒè‡ªåŠ¨åŒ–éƒ¨ç½²ã€ï¼Œæˆ–è€…å¯¹ GitHub Action æœ‰åˆæ­¥çš„äº†è§£ï¼ŒçŸ¥é“å¤§è‡´æ“ä½œã€‚</p><p>ä»¥æˆ‘çš„<a href="https://JalenChuh.cn" target="_blank" rel="noopener external nofollow noreferrer">ä¸ªäººä¸»é¡µ</a>ä¸ºä¾‹ï¼Œæ˜¯ç”± Vue.js æ„å»ºçš„ï¼Œéƒ¨ç½²åœ¨è…¾è®¯äº‘é™æ€ç½‘ç«™æ‰˜ç®¡ã€‚GitHub ä»“åº“åœ°å€ï¼š<a href="https://github.com/jalenchuh/homepage" target="_blank" rel="noopener external nofollow noreferrer">homepage</a></p><p>å…±åˆ†ä¸º <code>Setup</code> <code>Build</code> <code>Lint</code> <code>Deploy</code> å››ä¸ªæ­¥éª¤</p><ul><li><p>Setup: å®‰è£… node ç¯å¢ƒ</p></li><li><p>Build: æ„å»º</p></li><li><p>Lint: Lint ä»£ç </p></li><li><p>Deploy: æ¨é€åˆ°è…¾è®¯é™æ€ç½‘ç«™æ‰˜ç®¡</p></li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">'10.x'</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">build</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Lint</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">lint</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">      <span class="attr">id:</span> <span class="string">deployStatic</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">TencentCloudBase/cloudbase-action@v1.1.1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">secretId:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SECRET_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">secretKey:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SECRET_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">envId:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.ENV_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">staticSrcPath:</span> <span class="string">dist</span></span><br></pre></td></tr></table></figure><blockquote class="blockquote-note blockquote-note__info"><div class="blockquote-note__header"><div class="blockquote-note__icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>å¯¹äºéšç§æ•°æ®é¡»åœ¨ secrets ä¸­è®¾ç½®</div><div class="blockquote-note__content"><p>æ–‡ä»¶ä¸­å‡ºç°çš„ <code>secrets.xxx</code> é¡»åœ¨ä»“åº“çš„ <code>settings &gt; secrets</code> ä¸­è®¾ç½®</p><p>æ–°å»º <code>secrests</code> æ—¶ï¼Œ<code>name</code> ä¸º <code>xxx</code> ï¼Œ<code>Value</code> ä¸ºå†…å®¹</p></div></blockquote><h3 id="éƒ¨ç½²åˆ°-github-page"><a class="markdownIt-Anchor" href="#éƒ¨ç½²åˆ°-github-page"></a> éƒ¨ç½²åˆ° GitHub Page</h3><p><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span>                      <span class="comment"># Actions æ˜¾ç¤ºçš„åå­—ï¼Œéšæ„è®¾ç½®</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> <span class="string">[push]</span>                        <span class="comment"># ç›‘å¬åˆ° push äº‹ä»¶åè§¦å‘</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span>              <span class="comment"># æ‹‰å–å½“å‰æ‰§è¡Œ Actions ä»“åº“çš„æŒ‡å®šåˆ†æ”¯</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">ref:</span> <span class="string">master</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Update</span> <span class="string">Submodule</span>      <span class="comment"># å¦‚æœä»“åº“æœ‰ submoduleï¼Œåœ¨è¿™é‡Œæ›´æ–°ï¼Œæ²¡æœ‰åˆ™åˆ æ‰æ­¤æ­¥éª¤</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">git</span> <span class="string">submodule</span> <span class="string">init</span></span><br><span class="line">        <span class="string">git</span> <span class="string">submodule</span> <span class="string">update</span> <span class="string">--remote</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node</span>            <span class="comment"># å®‰è£… Node ç¯å¢ƒ</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">"10.x"</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Generate</span>         <span class="comment"># å®‰è£… Hexo ä¾èµ–å¹¶ä¸”ç”Ÿæˆé™æ€æ–‡ä»¶</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">rm</span> <span class="string">-f</span> <span class="string">.yarnclean</span></span><br><span class="line">        <span class="string">yarn</span> <span class="string">--frozen-lockfile</span> <span class="string">--ignore-engines</span> <span class="string">--ignore-optional</span> <span class="string">--non-interactive</span> <span class="string">--silent</span> <span class="string">--ignore-scripts</span> <span class="string">--production=false</span></span><br><span class="line">        <span class="string">rm</span> <span class="string">-rf</span> <span class="string">./public</span></span><br><span class="line">        <span class="string">yarn</span> <span class="string">run</span> <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">        <span class="string">yarn</span> <span class="string">run</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> <span class="string">Deploy</span>           <span class="comment"># éƒ¨ç½²æ­¥éª¤ï¼Œè¿™é‡Œä»¥ hexo deploy ä¸ºä¾‹</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">SSH_PRIVATE:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SSH_PRIVATE</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">GIT_NAME:</span> <span class="string">yourname</span></span><br><span class="line">        <span class="attr">GIT_EMAIL:</span> <span class="string">your@email.com</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">mkdir</span> <span class="string">-p</span> <span class="string">~/.ssh/</span></span><br><span class="line">        <span class="string">echo</span> <span class="string">"$SSH_PRIVATE"</span> <span class="string">|</span> <span class="string">tr</span> <span class="string">-d</span> <span class="string">'\r'</span> <span class="string">&gt;</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">        <span class="string">chmod</span> <span class="number">600</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">        <span class="string">ssh-keyscan</span> <span class="string">github.com</span> <span class="string">&gt;&gt;</span> <span class="string">~/.ssh/known_hosts</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">"$GIT_NAME"</span></span><br><span class="line">        <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">"$GIT_EMAIL"</span></span><br><span class="line">        <span class="string">yarn</span> <span class="string">run</span> <span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²åˆ°è…¾è®¯é™æ€æ‰˜ç®¡"><a class="markdownIt-Anchor" href="#éƒ¨ç½²åˆ°è…¾è®¯é™æ€æ‰˜ç®¡"></a> éƒ¨ç½²åˆ°è…¾è®¯é™æ€æ‰˜ç®¡</h3><p>å»ºè®®ä½¿ç”¨<a href="https://github.com/TencentCloudBase/cloudbase-action" target="_blank" rel="noopener external nofollow noreferrer">å®˜æ–¹ Action</a></p><p>ç¤ºä¾‹ä»£ç </p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> <span class="string">[push]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">'10.x'</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Generate</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">clean</span> <span class="string">&amp;&amp;</span> <span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">      <span class="attr">id:</span> <span class="string">deployStatic</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">TencentCloudBase/cloudbase-action@v1.1.1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">secretId:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SECRET_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">secretKey:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.SECRET_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">envId:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.ENV_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">staticSrcPath:</span> <span class="string">public</span></span><br></pre></td></tr></table></figure><p>éƒ¨ç½² Hexo çš„è¿‡ç¨‹ä¸­ï¼Œ<code>Deploy</code> ä¹‹å‰çš„éƒ½æ˜¯å·®ä¸å¤šï¼Œæ‰€æœ‰ä¹‹ååªéœ€è¦ä¿®æ”¹ <code>Deploy</code> ä¹‹åçš„å†…å®¹å°±è¡Œã€‚</p><h3 id="éƒ¨ç½²åˆ°-è…¾è®¯cos"><a class="markdownIt-Anchor" href="#éƒ¨ç½²åˆ°-è…¾è®¯cos"></a> éƒ¨ç½²åˆ° è…¾è®¯COS</h3><p>å»ºè®®ä½¿ç”¨<a href="https://github.com/zkqiang/tencent-cos-action" target="_blank" rel="noopener external nofollow noreferrer">zkqiang/tencent-cos-action</a></p><h3 id="å…¶ä»–"><a class="markdownIt-Anchor" href="#å…¶ä»–"></a> å…¶ä»–</h3><p>å¤§éƒ¨åˆ†éƒ½æ˜¯æœ‰å®˜æ–¹ Action çš„ï¼Œå³ä½¿æ²¡æœ‰ä¹Ÿä¼šæœ‰å…¶ä»–äººç¼–å†™çš„ï¼Œæˆ–å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p><h2 id="éšç§é—®é¢˜"><a class="markdownIt-Anchor" href="#éšç§é—®é¢˜"></a> éšç§é—®é¢˜</h2><p>å¯ä»¥ç›´æ¥ä½¿ç”¨ Private ä»“åº“è§£å†³ã€‚</p><p>å¯¹äº Publlic ä»“åº“ï¼Œå¯ä»¥ä½¿ç”¨ <code>sed</code> å‘½ä»¤ã€‚</p><p>æ¯”å¦‚æˆ‘åœ¨åšå®¢é…ç½® <code>_config.yml</code> æ–‡ä»¶ä¸­æœ‰ç™¾åº¦æ¨é€çš„ä»£ç </p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">200</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">blog.JalenChuh.cn</span></span><br><span class="line">  <span class="attr">token:</span> <span class="string">baiduToken</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidu_urls.txt</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ <code>token</code> å±äºéšç§å†…å®¹ï¼Œä¸èƒ½å…¬å¼€ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>baiduToken</code> å°† <code>token</code> ä»£æ›¿</p><p>è€Œä¹‹ååœ¨ç¼–å†™çš„ Action çš„æ—¶å€™å°† <code>token</code> å­˜å…¥ <code>secrets</code> ï¼Œåˆ©ç”¨ <code>sed</code> å‘½ä»¤å¯¹ <code>baiduToken</code> è¿›è¡Œæ›¿æ¢å³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed -i <span class="string">"s/baiduToken/<span class="variable">$&#123;baiduToken&#125;</span>/"</span> _config.yml</span><br></pre></td></tr></table></figure><p><code>sed -i</code> ç”¨æ³•ä¸º <code>sed -i 's/åŸå­—ç¬¦ä¸²/æ–°å­—ç¬¦ä¸²/' æ–‡ä»¶è·¯å¾„</code></p><p>ç»“åˆ <code>secrets</code> ä½¿ç”¨</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">env</span></span><br><span class="line">  <span class="attr">env:</span></span><br><span class="line">    <span class="attr">baiduToken:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.baiduToken</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">run:</span> <span class="string">sed</span> <span class="string">-i</span> <span class="string">"s/baiduToken/$&#123;baiduToken&#125;/"</span> <span class="string">_config.yml</span></span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨æäº¤ç™¾åº¦æ”¶å½•"><a class="markdownIt-Anchor" href="#è‡ªåŠ¨æäº¤ç™¾åº¦æ”¶å½•"></a> è‡ªåŠ¨æäº¤ç™¾åº¦æ”¶å½•</h2><p>è§£å†³äº†è¿™ä¸ªé—®é¢˜æˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œä¸€äº›æ›´å¥½ç©çš„äº†ï¼Œæ¯”å¦‚ç™¾åº¦è‡ªåŠ¨æ¨é€</p><p>é¦–å…ˆç¡®ä¿å®‰è£…äº† <code>hexo-baidu-url-submit</code>ï¼Œå¹¶ä¸” <code>package.json</code> çš„ <code>dependencies</code> ä¸­å«æœ‰è¯¥æ’ä»¶ã€‚</p><blockquote class="blockquote-note blockquote-note__tip"><div class="blockquote-note__header"><div class="blockquote-note__icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></div>æ³¨æ„</div><div class="blockquote-note__content"><p><code>package.json</code> ä¸­å¦‚æœæ²¡æœ‰ï¼Œå¿…é¡»ä½¿ç”¨ <code>npm i hexo-baidu-url-submit --save</code> å®‰è£…</p></div></blockquote><p>ç„¶åè¿˜æ˜¯è¯¥æ–‡ä»¶ï¼Œä¿®æ”¹ <code>scripts</code> éƒ¨åˆ†</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  .......</span><br><span class="line">  "xx": "xxxx",</span><br><span class="line"><span class="addition">+  "baidupush": "hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy &amp;&amp; hexo deploy --config _baiduPush.yml"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><blockquote class="blockquote-note blockquote-note__warning"><div class="blockquote-note__header"><div class="blockquote-note__icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></div>å¿…é¡»éµå¾ª json è§„èŒƒ</div><div class="blockquote-note__content"><p>æœ€åä¸€è¡Œï¼Œä¹Ÿå°±æ˜¯ <code>baidupush</code> è¿™è¡Œç»“å°¾æ²¡æœ‰é€—å·ï¼Œè€Œå€’æ•°ç¬¬äºŒè¡Œå¿…é¡»æœ‰é€—å·</p></div></blockquote><p>å¦‚ä½ æ‰€è§ï¼Œè¯¥å‘½ä»¤æ‰§è¡Œäº†éå¸¸å¤šæ¬¡ <code>hexo deploy</code>ï¼Œæ¯æ¬¡ <code>hexo deploy</code> åªä¼šæ¨é€ä¸€æ¬¡ï¼Œè€Œç™¾åº¦ç»™äº†å‡ åƒæ¡çš„é™é¢ï¼Œé‚£ä¸ºä»€ä¹ˆä¸æŠŠå…¨éƒ¨é¢åº¦ç”¨å®Œå‘¢ï¼Ÿ</p><p>ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ GitHub Page ä¹‹ç±»çš„ï¼Œæ¯æ¬¡æ¨é€çš„åŒæ—¶éƒ½ä¼šæŠŠåšå®¢ä¹Ÿæ¨é€ä¸€éï¼Œæ²¡è¿™å¿…è¦ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ <code>_baidupush.yml</code> ï¼Œå°† <code>_config.yml</code> ä¸­æˆ‘å†…å®¹å¤åˆ¶è¿›å»ï¼Œå†ä¿®æ”¹æœ«å°¾ <code>deploy</code> éƒ¨åˆ†ï¼Œä»…ä¿ç•™ç™¾åº¦æ¨é€ã€‚</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  - type: baidu_url_submitter</span><br><span class="line"><span class="deletion">-  - type: git</span></span><br><span class="line"><span class="deletion">-    repo: git@github.com:jalenchuh/test.git</span></span><br><span class="line"><span class="deletion">-    branch: master</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆä¹‹å‰å‘½ä»¤ä¸­çš„æ‰€æœ‰ <code>hexo deploy</code> å°±éœ€è¦ç›¸åº”çš„æ›¿æ¢æˆ <code>hexo deploy --configÂ _baidupush.yml</code></p><p>ç„¶ååœ¨ <code>secrets</code> ä¸­å­˜å…¥ <code>baiduToken</code></p><p>å¹¶ç¼–å†™ Actionï¼Œæ¯å¤©åŒ—äº¬æ—¶é—´ 0 ç‚¹è‡ªåŠ¨æ‰§è¡Œ</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">baiduPush</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">'0 16 * * *'</span> <span class="comment"># Github Action ä½¿ç”¨çš„æ˜¯ UTC æ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">'10.x'</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-cli</span> <span class="string">-g</span></span><br><span class="line">        <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">BAIDU</span> <span class="string">env</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">baiduToken:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.baiduToken</span> <span class="string">&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">run:</span> <span class="string">sed</span> <span class="string">-i</span> <span class="string">"s/baiduToken/$&#123;baiduToken&#125;/"</span> <span class="string">_baidupush.yml</span> <span class="comment"># æ›¿æ¢ baiduToken</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">generate</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">hexo</span> <span class="string">clean</span> <span class="string">&amp;&amp;</span> <span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">push</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">baidupush</span> <span class="comment"># æ‰§è¡Œå‰é¢å†™å¥½çš„å‘½ä»¤</span></span><br></pre></td></tr></table></figure><h2 id="æœ€å"><a class="markdownIt-Anchor" href="#æœ€å"></a> æœ€å</h2><p>è‘—åçš„ CI å·¥å…·è¿˜æœ‰ Travis CIï¼Œç›¸æ¯”ä¹‹ä¸‹æˆ‘è§‰å¾— GitHub Action æ›´åŠ å®¹æ˜“ä¸Šæ‰‹ï¼Œè€Œä¸”å’Œ GitHub ç›´æ¥é›†æˆç®—æ˜¯å®ƒçš„ä¸€å¤§ä¼˜åŠ¿å§ã€‚</p><p>ä¸è¿‡è¿˜æ˜¯æœ‰ä¸€äº›ç¼ºç‚¹çš„ï¼Œæ¯”å¦‚æ²¡åŠæ³•æœ¬åœ°è°ƒè¯•ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨ Action åˆ—è¡¨ä¸­æ€»æ˜¯ä¸€ç‰‡ âŒã€‚è¿˜æœ‰å°±æ˜¯å‡ºé”™ä¹‹å <code>re run</code> åªèƒ½å…¨éƒ¨é‡æ¥ï¼Œæ²¡åŠæ³•æŒ‡å®šä»æŸä¸€ä¸ª steps å¼€å§‹</p><p>å½“ç„¶äº†ï¼Œå·²ç»åšçš„éå¸¸ä¸é”™äº†ã€‚åŒæ—¶ï¼ŒæœŸå¾…ä¸‹å³å°†æ¨å‡ºçš„ Codespacesã€‚</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>GitHub Page éƒ¨ç½²ä»£ç æ¥è‡ª <a href="https://hexo.fluid-dev.com/posts/actions-deploy/" target="_blank" rel="noopener external nofollow noreferrer">https://hexo.fluid-dev.com/posts/actions-deploy/</a> <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section></div></div><div class="post__license"><p><strong>Author: </strong>Lioil</p><p><strong>Permalink: </strong><a href="https://www.linil.ml/posts/use-github-action.html">https://www.linil.ml/posts/use-github-action.html</a></p></div><div class="post-meta post-footer__meta"><p>æœ€åæ›´æ–°äºï¼šFri Aug 07 2020</p></div><div class="post-cats post-card__cats"><a href="/tags/%E6%95%99%E7%A8%8B/" class="post-tags__link button"># æ•™ç¨‹</a> <a href="/tags/GitHub-Action/" class="post-tags__link button"># GitHub Action</a> <a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/" class="post-tags__link button"># è‡ªåŠ¨åŒ–</a></div></article></div></main><footer class="footer"><p><a style="color:#999;text-decoration:none" href="https://www.linik.ml" target="_blank" rel="noopener">Lioil</a> Â©2020</p><p>Powered by <a href="https://hexo.io" rel="external nofollow noreferrer" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" rel="external nofollow noreferrer" target="_blank">Cards</a></p></footer></div><script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@12.0.0/dist/lazyload.min.js"></script><script>window.lazyLoadOptions={elements_selector:".lazyload",threshold:0}</script></body></html>